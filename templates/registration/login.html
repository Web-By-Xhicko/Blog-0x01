{% extends '../Base/Base.html' %}
{% block title %} Log in Page {% endblock %}

{% block templates %}
{% include '../Base/navigation.html' %}

{% if request.user.is_authenticated %}
  <script>
    window.location.href = '{% url "accounts:Profile_Page" %}'
  </script>
{% endif %}

<style>

    /* font-family: 'Anton', sans-serif;..other heading
  font-family: 'Oswald', sans-serif;.....logo
  font-family: 'Roboto', sans-serif;....Paragraphs
  font-family: 'Teko', sans-serif;....Headings */

   @import url('https://fonts.googleapis.com/css2?family=Anton&family=Oswald:wght@700&family=Roboto:wght@300&family=Teko:wght@700&display=swap');

            
:root{
--FS-Paragraph-xm: .5rem;
--FS-Paragraph-md: .6rem;
--FS-Paragraph-md2: .7rem;
--FS-Paragraph-bg: .8rem;
--FS-Paragraph-bg2: .9rem;
--FS-Heading-xm: .5rem;
--FS-Heading-md: .6rem;
--FS-Heading-bg: .7rem;
--FS-Heading-md2: .8rem;
--FS-Heading-bg2: .9rem;
--FS-Paragraph: 1rem;
--FS-Paragraph2: 1.1rem;
--FS-Paragraph3: 1.2rem;
--FS-Paragraph4: 1.3rem;
--FS-Heading1:clamp(.4rem,  1rem, 1.5rem);
--FS-Small-Heading:1.1rem;
--FS-Small-Heading2:1.2rem;
--FS-Small-Heading3:1.3rem;
--FS-Small-Heading4:1.4rem;
--FS-Heading2: 1.5rem;
--FS-Heading3: 1.7rem;
--FS-Heading4: 2rem;
--FS-Heading5: 2.5rem;
}

  .Form-Wrapper{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 1.2em ;
    height: 81vh;
  }

  .Form-Wrapper h1{
    text-transform: uppercase;
    font-size: var(--FS-Heading5);
    font-family: 'Teko', sans-serif;
    /* margin: .8em 0; */
  }

  form{
    display: flex;
    flex-direction: column;
    max-width: 600px;
    width: 70%;
    border: .1em solid #000;
    border-radius: .2em;
    padding: .7em 2em;

  }
 
  form input{
    padding: 1em ;
    background: #fff ;
    margin: .5em 0;
    border: .1em solid #000;
    border-radius: .1em ;
    font-family: 'Roboto', sans-serif;
    font-size: var(--FS-Paragraph);
    font-weight: 900;
  }

  form input:focus{
   outline:none;
   background-color: #fff;
}

  ::placeholder{
    font-family: 'Roboto', sans-serif;
    font-weight: 900;
    letter-spacing: 1px;
  }


  .Input-Label{
    font-size: var(--FS-Small-Heading4);
    font-family: 'Teko', sans-serif; 
  }

  .btn{
    margin: .7em 0;
    padding: 1em ;
    background-color: #000;
    color: #fff;
    margin: .5em 0;
    border-radius: .2em ;
    border: none;
    font-family: 'Anton', sans-serif;
    font-size: var(--FS-Paragraph);
    text-transform: uppercase;
    letter-spacing: 2px;
    cursor: pointer;
  }


  .Form-bottom{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 1em 0 0 0;
  }

  .flex{
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .form-links p{
    color: #000;
    font-weight: 900;
    text-transform: capitalize;
    font-family: 'Roboto', sans-serif;
  }
  
  .form-links a{
    color: #000;
    font-weight: 900;
    text-transform: uppercase;
    font-family: 'Anton', sans-serif;
    margin-left: .3em;
  }

  .form-links  a:hover{
   text-decoration: underline;
  }

  .Error_Info{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    background: #ee0707;
    padding: .5em .9em;
    border-radius: .2em;
  }

  .Error_Info.remove{
    display: none;
  }

  .Error_Info p{
    font-family: 'Roboto', sans-serif;
    color: #fff;
    font-size: var(--FS-Paragraph);
  }

  .Error_Info i{
    color: #fff;
    font-size: var(--FS-Paragraph);
    cursor: pointer;
  }

</style>
   
  <div class="Form-Wrapper">
    <h1>Log in</h1>
  
    <form action="." method="post">
      {% csrf_token %}

      <!-- {% if error_message %}
      <div class="Error_Info Disappear">
          <p>{{error_message}}</p>
          <i  class="fa fa-close Close"></i>
      </div>
    {% endif %} -->

      <!-- Not using individual error checking because of hacking or bypassing, making the error annonymous! -->
          {% if form.errors %}
            <div class="Error_Info Disappear">
                <p>Error : Username Or Password is not correct!</p>
                <i  class="fa fa-close Close"></i>
            </div>
          {% endif %}

            <label class="Input-Label"> {{form.username.label}} </label>
            {{form.username}}

            <label class="Input-Label"> {{form.password.label}} </label>
            {{form.password}}

            <!-- <input type="text" name="username" placeholder="Enter username" required>
            <input type="password" name="password" placeholder="Enter password" required> -->
            <button class="btn" type="submit">Login</button>
            
        

           <div class="Form-bottom">

              <div class="form-links flex">
                <p>Don't have an account yet ?</p> 
                <a href="{% url 'accounts:Registration_Page' %}">Register</a>
              </div>
            
              <div class="form-links flex">
                <p>forgotten your password?</p> 
                <a href="{% url 'accounts:PasswordReset_Page' %}">Click here </a>
              </div>

           </div>
    </form>

   

  </div>   

  <script>
    let Close = document.querySelector('.Close')
    let disappear = document.querySelector('.Disappear')
    Close.addEventListener('click', ()=>{
      disappear.classList.toggle('remove')
    })
  </script>

 {% include '../Base/Footer.html' %}
{% endblock %}