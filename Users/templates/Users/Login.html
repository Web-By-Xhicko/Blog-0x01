{% extends 'Users/Base.html' %}
  {% load static %}
{% block title %} Login Page {% endblock %}

{% block templates %}
{% include 'Users/Navigation.html' %}

<style>

    /* font-family: 'Anton', sans-serif;..other heading
  font-family: 'Oswald', sans-serif;.....logo
  font-family: 'Roboto', sans-serif;....Paragraphs
  font-family: 'Teko', sans-serif;....Headings */

   @import url('https://fonts.googleapis.com/css2?family=Anton&family=Oswald:wght@700&family=Roboto:wght@300&family=Teko:wght@700&display=swap');

            
:root{
--FS-Paragraph-xm: .5rem;
--FS-Paragraph-md: .6rem;
--FS-Paragraph-md2: .7rem;
--FS-Paragraph-bg: .8rem;
--FS-Paragraph-bg2: .9rem;
--FS-Heading-xm: .5rem;
--FS-Heading-md: .6rem;
--FS-Heading-bg: .7rem;
--FS-Heading-md2: .8rem;
--FS-Heading-bg2: .9rem;
--FS-Paragraph: 1rem;
--FS-Paragraph2: 1.1rem;
--FS-Paragraph3: 1.2rem;
--FS-Paragraph4: 1.3rem;
--FS-Heading1:clamp(.4rem,  1rem, 1.5rem);
--FS-Small-Heading:1.1rem;
--FS-Small-Heading2:1.2rem;
--FS-Small-Heading3:1.3rem;
--FS-Small-Heading4:1.4rem;
--FS-Heading2: 1.5rem;
--FS-Heading3: 1.7rem;
--FS-Heading4: 2rem;
--FS-Heading5: 2.5rem;
}

.Logo{
  object-fit: contain;
  height: auto;
  width:90px;
}

  .Form-Wrapper{
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 1em 0 0 0 ;
    height: 81.8vh;
  }

  .Form-Wrapper h1{
    text-transform: uppercase;
    font-size: var(--FS-Heading5);
    font-family: 'Teko', sans-serif;
    color: #fff;
  }

  form{
    display: flex;
    flex-direction: column;
    max-width: 600px;
    width: 70%;
    border-radius: .2em;
    padding: .7em 2em;

  }
 
  form input{
    padding: 1em ;
    background: #fff ;
    margin: .5em 0;
    border: .1em solid #000;
    border-radius: .1em ;
    font-family: 'Roboto', sans-serif;
    font-size: var(--FS-Paragraph);
    font-weight: 900;
    width: 100%;
  }

  form input:focus{
   outline:none;
   background-color: #fff;
}

form.submitted input:invalid{
  border-color: #ee0707;
}

form small{
  display: block;
  font-family: 'Roboto', sans-serif;
  font-weight: 900;
}

  ::placeholder{
    font-family: 'Teko', sans-serif;
    font-weight: 900;
    letter-spacing: 1px;
    color: #000;
  }

.btnnn{
    margin: .7em 0;
    padding: 0.5em;
    background-color: #fff;
    color: #000;
    border-radius: .2em ;
    border: none;
    font-family: 'Teko', sans-serif;
    font-size: var(--FS-Paragraph);
    text-transform: uppercase;
    letter-spacing: 2px;
    cursor: pointer;
    transition: transform .5s ease;
  }

  .btnnn:hover{
    transform: scale(103%, 103%);
  }


  .Form-bottom{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 1em 0 0 0;
  }

  .flex{
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: .5em;
  }

  .form-links p, 
  .form-links a{
    color: #fff;
    text-transform: capitalize;
    font-family: 'Roboto', sans-serif;
  }
  

  .form-links  a:hover{
   text-decoration: underline;
  }

  .pwd_flex{
    display: flex;
    flex-direction: row;
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .pwd_flex .Pwd{
    width: 100%;
  }

 .pwd_flex .Show_Password{
    width: 15%;
    padding: .9em 0;;
    position: absolute;
    right: 1%;
    background-color: transparent;
    border: none;
   
  }

 .pwd_flex .Show_Password i{
   font-size: 2rem;
   color: #000;
   cursor: pointer;
  }


  .Error_wrapper{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    background: #ee0707;
    padding: .7em .9em;
    border-radius: .2em;
    margin: .5em 0;
  }

  .Error_wrapper.remove{
    display: none;
  }


  .Error_wrapper p{
    color: #000;
    font-size: var(--FS-Paragraph);
    font-weight: 900;
    font-family: 'Roboto', sans-serif;
    cursor: pointer;
  }

  .Error_wrapper i{
    color: #000;
    font-size: var(--FS-Paragraph);
    cursor: pointer;
  }

  .Msg{
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  text-transform: capitalize;
  transition: .5s ease-in-out;
  margin: 6em auto 0 auto;
  width: 98%;
  padding: .7em .9em;
  border-radius: .2em;
}

.Msg p{
    font-family: 'Roboto', sans-serif;
    color: #fff;
    font-weight: 900;
    font-size: var(--FS-Paragraph);
    text-transform: capitalize;
    letter-spacing: 1px;
}

.SuccessMessages{
  background: #02fc2317;
  border: 2px solid  #02fc24;
}

.WarningMessages{
  background: #ffa6001c;
  border: 2px solid  #ffa600;
}


@media screen and (max-width:600px){

form{
  width: 100%;
}

.btn{
    font-size: 1.5rem;
}

 .Msg{
  width: 90%;
  top: 10%;
  margin: .4em auto;
}


}


</style>
   

      
     
  <div class="Form-Wrapper">

  {% if messages %}
  {% for message in messages %}
      {% if message.tags == 'success' %}
          <div class="SuccessMessages  Msg">
              <p>{{ message }}</p>
          </div> 
      {% endif %}
  {% endfor %}
{% endif %}

  {% if messages %}
  {% for message in messages %}
      {% if message.tags == 'warning' %}
          <div class="WarningMessages Msg">
              <p>{{ message }}</p>
          </div> 
      {% endif %}
  {% endfor %}
{% endif %}
 
    <h1>Sign in </h1>
  
    <form action="." method="POST" class="SubmitListener">

    
      {% if messages %}
      {% for message in messages %}
          {% if message.tags == 'error' %}
              <div class="Error_wrapper Disappear">
                  <p>{{ message }}</p>
                  <i class="fa fa-close Close"></i>
              </div> 
          {% endif %}
      {% endfor %}
  {% endif %}
  

      {% csrf_token %}
      {{form.username}}
      <div class="pwd_flex">
        {{form.password}}
        <button class="Show_Password password-toggle-button"  type="button"><i  class="fa fa fa-eye"></i></button>
      </div>
    <button class="btnnn" type="submit">Login</button>
            
  
           <div class="Form-bottom">
              <div class="form-links flex">
                <p>Don't have an account ?</p>   &nbsp;
                <a href="{% url 'Register_Page' %}">Register</a>
              </div>

              <div class="form-links flex">
                <p>Forgotten Password ?</p>  &nbsp;
                <a href="{% url 'Password_Reset_Page' %}">Click Here </a>
              </div>
           </div>
    </form>

   

  </div>   


<script>

function hideFlashMessages() {
    const flashMessages = document.querySelectorAll('.Msg');
    flashMessages.forEach((message) => {
        setTimeout(() => {
            message.style.display = 'none';
        }, 3000); 
    });
}

document.addEventListener('DOMContentLoaded', function() {
    hideFlashMessages();
});



</script>

  <script>
  
    document.addEventListener('DOMContentLoaded', function () {
    const passwordToggleButtons = document.querySelectorAll('.password-toggle-button');

    passwordToggleButtons.forEach(function (button) {
    const passwordField = button.previousElementSibling;
    // Get the password field associated with the toggle button

    button.addEventListener('click', function () {
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        button.innerHTML = '<i class="fa fa-eye-slash"></i>'
      } else {
        passwordField.type = 'password';
        button.innerHTML = '<i class="fa fa-eye"></i>'
      }
      });
      });
      });
</script>

  <script>

    let Close = document.querySelector('.Close')
    let disappear = document.querySelector('.Disappear')
    Close.addEventListener('click', ()=>{
      disappear.classList.toggle('remove')
    })

    let form = document.querySelector('.SubmitListener')
    let submitBtn = form.querySelector('button[type="submit"]')
    submitBtn.addEventListener('click', ()=> {
      form.classList.add('submitted')
    })

  </script>




 {% include 'Users/Footer.html' %}
{% endblock %}